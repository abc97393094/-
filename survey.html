<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="stylesheet" href="css/wenjuan_ht.css">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_289760_kjgrg5zwme9g4x6r.css">
    <link rel="stylesheet" href="lib/bootstrap-3.3.7/dist/css/bootstrap.css">
    <link rel="stylesheet" href="css/header.css">
    <script src="lib/jquery/jquery-3.2.1.min.js"></script>
    <script src="lib/bootstrap-3.3.7/dist/js/bootstrap.js"></script>
    <script src="js/suv.js"></script>
    <style>
        .main{
            position: relative;
        }
        .slider-left{
            background-color: #fff;
            position: absolute;
            top: 0;
            left:0;
            width: 100px;
            padding:10px 0;
        }
        .slider-left ul{
            margin-bottom: 0;
        }
        .slider-left ul li{
            padding:5px 4px;
            cursor: pointer;
        }
        .slider-left ul li{
            border-bottom: 1px solid #f3f3f3;
        }
        .yd_box{
            padding-left: 100px;
        }
        .hide{
            display: none;
        }
        .movie_box:hover
    </style>
    <script>
        $(function () {
            $('.submitPush').click(()=>{
                $.ajax({
                    type:"POST",
                    url:"surveyPush",
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify(getSurveyData()),
                    dataType: "json",
                    success: function (message) {
                        if (message > 0) {
                            alert("ok");
                        }
                    },
                    error: function (message) {
                        console.log(message)
                    }
                })
                console.log(getSurveyData());
            })

            function getSurveyData() {
                var data={
                    "sid":"666",
                    "sName":"vvzrSuv",
                    "user":"vvzr",
                    "questions":[

                    ]
                }
                $('.movie_box').each((index,element)=>{
                    data.questions.push({
                        id:index
                    })
                    data.questions[index].title = $(element).find('.btwenzi')[0].innerText;
                    data.questions[index].type=$(element).find('.dx_box')[0].dataset.t;
                    data.questions[index].options=[]
                    $(element).find('label').children('span').each((i,e)=>{
                        data.questions[index].options.push(e.innerText)
                    })
                })
                return data;

            }
        })
    </script>
</head>
<body>
<header>
    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="#">返回</a></li>
                    <li>
                        <a href="#">这是我的第一份问卷</a>
                    </li>

                </ul>
                <ul class="nav navbar-nav navbar-right member">
                    <li><a href="#">预览问卷</a></li>
                    <li class="submitPush"><a href="#">发布问卷</a></li>
                </ul>
            </div><!-- /.navbar-collapse -->

        </div><!-- /.container-fluid -->
    </nav>
</header>
<div class="container main">
    <div class="slider-left">
        <ul>
            <li id="radio">单选题</li>
            <li id="checkbox" >多选题</li>
            <li id="text">填空题</li>
        </ul>
    </div>
    <div class="yd_box"></div>
</div>
<!--选项卡区域  模板区域---------------------------------------------------------------------------------------------------------------------------------------->
<div class="xxk_box">
    <div class="xxk_conn hide">
        <!--单选----------------------------------------------------------------------------------------------------------------------------------------->
        <div class="xxk_xzqh_box dxuan ">
            <textarea name="" cols="" rows="" class="input_wenbk btwen_text btwen_text_dx" placeholder="单选题目"></textarea>
            <div class="title_itram">
                <div class="kzjxx_iteam">
                    <input name="" type="radio" value="" class="dxk">
                    <input name="" type="text" class="input_wenbk" value="" placeholder="选项">
                    <label>
                        <input name="" type="checkbox" value="" class="fxk"> <span>可填空</span>
                    </label> <a href="javascript:void(0);" class="del_xm">删除</a>
                </div>
            </div>
            <a href="javascript:void(0)" class="zjxx">增加选项</a>
            <!--完成编辑-->
            <div class="bjqxwc_box">
                <a href="javascript:void(0);" class="qxbj_but">取消编辑</a>
                <a href="javascript:void(0);" class="swcbj_but"> 完成编辑</a>
            </div>
        </div>
        <!--多选----------------------------------------------------------------------------------------------------------------------------------------->
        <div class="xxk_xzqh_box duoxuan hide">
            <textarea name="" cols="" rows="" class="input_wenbk btwen_text btwen_text_duox" placeholder="多选题目"></textarea>
            <div class="title_itram">
                <div class="kzjxx_iteam">
                    <input name="" type="checkbox" value="" class="dxk">
                    <input name="" type="text" class="input_wenbk" value="选项" placeholder="选项">
                    <label>
                        <input name="" type="checkbox" value="" class="fxk"> <span>可填空</span></label>
                    <a href="javascript:void(0);" class="del_xm">删除</a>
                </div>
            </div>
            <a href="javascript:void(0)" class="zjxx">增加选项</a>
            <!--完成编辑-->
            <div class="bjqxwc_box">
                <a href="javascript:void(0);" class="qxbj_but">取消编辑</a>
                <a href="javascript:void(0);" class="swcbj_but"> 完成编辑</a>
            </div>
        </div>
        <!-- 填空----------------------------------------------------------------------------------------------------------------------------------------->
        <div class="xxk_xzqh_box tktm hide">
            <textarea name="" cols="" rows="" class="input_wenbk btwen_text btwen_text_tk" placeholder="答题区"></textarea>
            <!--完成编辑-->
            <div class="bjqxwc_box">
                <a href="javascript:void(0);" class="qxbj_but">取消编辑</a>
                <a href="javascript:void(0);" class="swcbj_but"> 完成编辑</a>
            </div>
        </div>
        <!-- 矩阵----------------------------------------------------------------------------------------------------------------------------------------->
        <div class="xxk_xzqh_box  hide">
            <div class="line_dl"></div>
            <div class="jztm">
                <textarea name="" cols="" rows="" class="input_wenbk btwen_text" placeholder="题目"></textarea>
                <table width="100%" border="0" cellspacing="0" cellpadding="0">
                    <tbody>
                    <tr valign="top">
                        <td width="135">
                            <h4 class="ritwenz_xx">左标题</h4>
                            <textarea name="" cols="" rows="" class="leftbtwen_text" placeholder="例子：CCTV1，CCTV2，CCTV3"></textarea>
                        </td>
                        <td>
                            <h4 class="ritwenz_xx  ">
                                右侧选项文字 <input type="radio" name="xz" value="0"
                                              checked="checked" class="xzqk">单选<input
                                    type="radio" value="1" name="xz" class="xzqk">多选
                            </h4>
                            <div class="title_itram">
                                <div class="kzjxx_iteam">
                                    <input name="" type="text" class="input_wenbk jzwent_input" value="选项" onBlur="if(!this.value)this.value='选项'" onClick="if(this.value&amp;&amp;this.value=='选项' )  this.value=''">
                                    <label>
                                        <input name="" type="checkbox" value="" class="fxk"> <span>可填空</span></label> <a href="javascript:void(0);" class="del_xm">删除</a>
                                </div>
                                <div class="kzjxx_iteam">
                                    <input name="" type="text" class="input_wenbk jzwent_input" value="选项" onBlur="if(!this.value)this.value='选项'" onClick="if(this.value&amp;&amp;this.value=='选项' )  this.value=''">
                                    <label>
                                        <input name="" type="checkbox" value="" class="fxk"> <span>可填空</span></label> <a href="javascript:void(0);" class="del_xm">删除</a>
                                </div>
                                <div class="kzjxx_iteam">
                                    <input name="" type="text" class="input_wenbk jzwent_input" value="选项" onBlur="if(!this.value)this.value='选项'" onClick="if(this.value&amp;&amp;this.value=='选项' )  this.value=''">
                                    <label>
                                        <input name="" type="checkbox" value="" class="fxk"> <span>可填空</span></label> <a href="javascript:void(0);" class="del_xm">删除</a>
                                </div>
                            </div> <a href="javascript:void(0)" class="zjxx" style="margin-left: 0;">增加选项</a>
                        </td>
                    </tr>
                    </tbody>
                </table>
                <!--完成编辑-->
                <div class="bjqxwc_box">
                    <a href="javascript:void(0);" class="qxbj_but">取消编辑</a> <a href="javascript:void(0);" class="swcbj_but"> 完成编辑</a>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>